/* ---------- BASE ---------- */
* { box-sizing: border-box; }
body {
  font-family: system-ui, -apple-system, sans-serif;
  direction: rtl; margin: 0;
  background: #f5f7fa; color: #111827;
}

/* ---------- LOGIN ---------- */
#loginScreen {
  display: flex; flex-direction: column;
  justify-content: center; align-items: center;
  height: 100vh;
  background: linear-gradient(135deg, #1f2937, #111827);
}
#loginScreen h3 { color: white; margin-bottom: 20px; font-size: 24px; }
#loginScreen input, #loginScreen select {
  width: 240px; padding: 12px; margin: 8px 0;
  border-radius: 8px; border: none; font-size: 16px;
}
#loginScreen button {
  width: 240px; padding: 12px; margin-top: 12px;
  border-radius: 8px; border: none;
  background: #3b82f6; color: white;
  font-weight: 600; cursor: pointer; transition: background .3s;
}
#loginScreen button:hover { background: #2563eb; }

/* ---------- HEADER ---------- */
header {
  background: #111827; color: white;
  padding: 12px 20px; display: flex;
  align-items: center; justify-content: space-between;
  box-shadow: 0 3px 10px rgba(0,0,0,.15); flex-wrap: wrap;
}
header h2 { margin: 0; font-size: 22px; }
#currentTime, #currentDate { font-size: 13px; color: #d1d5db; margin: 1px 0; }

/* ---------- SIDE MENU ---------- */
#menuBtn {
  background: #2563eb; border: none; color: white;
  padding: 8px 16px; border-radius: 6px;
  font-weight: 600; cursor: pointer; transition: background .3s;
}
#menuBtn:hover { background: #1e40af; }
#sideMenu {
  display: flex; flex-direction: column;
  position: absolute; top: 60px; left: 0;
  background: #f1f5f9; width: 200px;
  border-radius: 6px; box-shadow: 0 2px 12px rgba(0,0,0,.2);
  padding: 8px 0; z-index: 1000;
  max-height: calc(100vh - 70px); overflow-y: auto;
}
#sideMenu.hidden { display: none; }
#sideMenu li {
  list-style: none; padding: 10px 16px;
  cursor: pointer; transition: background .2s, color .2s; color: #111827;
}
#sideMenu li:hover { background: #2563eb; color: white; transform: scale(1.02); }
#sideMenu li button {
  all: unset; width: 100%; text-align: right;
  padding: 10px 16px; cursor: pointer; color: #ef4444;
  display: block; border-radius: 6px; transition: background .2s, color .2s;
}
#sideMenu li button:hover { color: white; background: #ef4444; }

/* ---------- PAGES ---------- */
.page { display: none; padding: 20px; }
.page.active { display: block; }
.backBtn {
  display: inline-block; margin-bottom: 15px;
  padding: 8px 16px; background: #2563eb; color: white;
  border-radius: 6px; cursor: pointer;
  font-weight: 600; transition: background .3s; border: none;
}
.backBtn:hover { background: #1e40af; }

/* ---------- FORM GRID ---------- */
.form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 10px; margin-bottom: 12px;
}
.form-grid > div { display: flex; flex-direction: column; }
.form-grid input, .form-grid select { margin: 0; }

/* ---------- INPUTS / BUTTONS ---------- */
input, select, textarea {
  padding: 10px; margin: 5px 0;
  border-radius: 6px; border: 1px solid #d1d5db;
  background: white; width: 100%;
  font-size: 14px; font-family: inherit;
}
button {
  padding: 10px 18px; border-radius: 6px; border: none;
  background: #10b981; color: white;
  font-weight: 600; cursor: pointer;
  transition: opacity .2s; font-size: 14px;
}
button:hover { opacity: .88; }
button:disabled { opacity: .4; cursor: not-allowed; }

/* ---------- TABLE ---------- */
table {
  width: 100%; border-collapse: collapse; margin-top: 12px;
  background: white; border-radius: 10px;
  overflow: hidden; box-shadow: 0 2px 6px rgba(0,0,0,.08);
}
th { background: #1f2937; color: white; padding: 10px; text-align: center; }
td { padding: 8px; border-bottom: 1px solid #eee; text-align: center; }
tr:nth-child(even) { background: #f9fafb; }

/* ---------- LIST ---------- */
ul {
  background: white; border-radius: 8px;
  padding: 10px; list-style: none;
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
  max-height: 360px; overflow-y: auto;
}

/* ---------- MODAL ---------- */
.modal {
  display: none; position: fixed; z-index: 999;
  inset: 0; background: rgba(0,0,0,.6);
  justify-content: center; align-items: center;
}
.modal-content {
  background: white; padding: 25px; border-radius: 12px;
  width: 90%; max-width: 600px; animation: pop .2s ease;
}
.close { float: left; font-size: 22px; cursor: pointer; }
@keyframes pop {
  from { transform: scale(.9); opacity:.5 }
  to   { transform: scale(1);  opacity: 1 }
}

/* ==============================================
   STOCK TABS — تبويبات المخزون
============================================== */
.stock-tabs {
  display: flex; gap: 6px; flex-wrap: wrap;
  margin-bottom: 18px;
}
.sktab {
  padding: 8px 18px; border-radius: 20px;
  background: #e5e7eb; color: #374151;
  font-weight: 600; border: none; cursor: pointer;
  transition: all .2s;
}
.sktab.active, .sktab:hover { background: #1f2937; color: white; }

.stock-panel { display: none; }
.stock-panel.active { display: block; }
.stock-panel h4 {
  font-size: 16px; color: #1f2937;
  margin: 0 0 14px;
  border-bottom: 2px solid #e5e7eb;
  padding-bottom: 8px;
}

/* ==============================================
   REPORTS — بطاقات وتبويبات
============================================== */
.report-tabs {
  display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 16px;
}
.rtab {
  padding: 8px 16px; border-radius: 20px;
  background: #e5e7eb; color: #374151;
  font-weight: 600; border: none; cursor: pointer; transition: all .2s;
}
.rtab.active, .rtab:hover { background: #2563eb; color: white; }

.report-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
  gap: 12px; margin-bottom: 16px;
}
.rcard {
  border-radius: 12px; padding: 16px 12px;
  display: flex; flex-direction: column;
  align-items: center; gap: 6px;
  box-shadow: 0 2px 8px rgba(0,0,0,.08); color: white;
}
.rcard.green  { background: linear-gradient(135deg,#10b981,#059669); }
.rcard.blue   { background: linear-gradient(135deg,#3b82f6,#2563eb); }
.rcard.orange { background: linear-gradient(135deg,#f59e0b,#d97706); }
.rcard.purple { background: linear-gradient(135deg,#8b5cf6,#6d28d9); }
.rcard.red    { background: linear-gradient(135deg,#ef4444,#dc2626); }
.rcard-label  { font-size: 12px; opacity: .9; }
.rcard-val    { font-size: 20px; font-weight: 700; }

.debt-section {
  background: white; border-radius: 12px;
  padding: 16px; box-shadow: 0 2px 8px rgba(0,0,0,.08);
  margin-bottom: 16px;
}
.debt-section h4 { margin: 0 0 12px; color: #1f2937; }
#debtList { max-height: 250px; }
#salesLog  { max-height: 300px; }

/* ==============================================
   SETTINGS — تبويبات وأقسام
============================================== */
.settings-tabs {
  display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 20px;
}
.stab {
  padding: 9px 16px; border-radius: 20px;
  background: #e5e7eb; color: #374151;
  font-weight: 600; border: none; cursor: pointer; transition: all .2s;
}
.stab.active, .stab:hover { background: #111827; color: white; }

.settings-panel { display: none; }
.settings-panel.active { display: block; }
.settings-panel h4 {
  margin: 0 0 16px; font-size: 17px; color: #1f2937;
  border-bottom: 2px solid #e5e7eb; padding-bottom: 8px;
}

.set-label {
  display: block; font-size: 13px;
  font-weight: 600; color: #374151; margin: 12px 0 3px;
}
.logo-upload-box {
  background: #f9fafb; border: 2px dashed #d1d5db;
  border-radius: 10px; padding: 16px;
  display: flex; flex-wrap: wrap; align-items: center; gap: 8px;
  margin-bottom: 8px;
}
.check-group {
  display: flex; flex-direction: column; gap: 10px;
  background: #f9fafb; border-radius: 10px;
  padding: 16px; margin-top: 12px;
}
.check-label {
  display: flex; align-items: center; gap: 10px;
  font-size: 14px; cursor: pointer;
}
.check-label input[type="checkbox"] {
  width: 18px; height: 18px; margin: 0; cursor: pointer;
}

/* ==============================================
   SYSTEM SETTINGS — النظام
============================================== */
.system-card {
  background: white; border-radius: 12px;
  padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,.07);
  margin-bottom: 16px;
}
.system-card h5 { margin: 0 0 6px; font-size: 15px; color: #1f2937; }

/* Toggle switch */
.toggle-label {
  display: flex; align-items: center; gap: 0;
  cursor: pointer; user-select: none;
}
.toggle-input { display: none; }
.toggle-slider {
  width: 48px; height: 26px; background: #d1d5db;
  border-radius: 13px; position: relative;
  transition: background .3s; flex-shrink: 0; margin-left: 10px;
}
.toggle-slider::after {
  content: ""; position: absolute;
  width: 20px; height: 20px; background: white;
  border-radius: 50%; top: 3px; right: 3px;
  transition: transform .3s;
  box-shadow: 0 1px 4px rgba(0,0,0,.2);
}
.toggle-input:checked + .toggle-slider { background: #10b981; }
.toggle-input:checked + .toggle-slider::after { transform: translateX(-22px); }

/* Danger zone */
.danger-card {
  border: 2px solid #fecaca;
  background: #fff5f5;
}
.reset-btn {
  background: #dc2626; color: white;
  padding: 12px 24px; font-size: 16px;
  font-weight: 700; border-radius: 8px;
  width: 100%; margin-bottom: 14px;
  border: none; cursor: pointer;
  transition: background .2s;
}
.reset-btn:hover { background: #b91c1c; }
.danger-warning {
  font-size: 13px; color: #b91c1c;
  background: #fee2e2; border-radius: 8px;
  padding: 12px; margin: 0; line-height: 1.6;
}

/* ---------- RESPONSIVE ---------- */
@media(max-width:768px){
  header { flex-direction: column; align-items: flex-start; }
  table  { font-size: 13px; }
  #sideMenu { width: 160px; }
  .report-cards { grid-template-columns: repeat(2,1fr); }
  .form-grid { grid-template-columns: 1fr 1fr; }
  .settings-tabs, .stock-tabs { gap: 4px; }
  .stab, .sktab { padding: 7px 12px; font-size: 13px; }
}
