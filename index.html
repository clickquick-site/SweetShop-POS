<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="mainTitle">SUPER_POS | نظام الإدارة</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --sidebar-color: #2c3e50; --active-blue: #3498db; --bg-light: #f4f7f6; --text-gray: #bdc3c7; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; display: flex; height: 100vh; background: var(--bg-light); overflow: hidden; }
        
        /* القائمة الجانبية كما في صورتك المرفقة */
        .sidebar { width: 260px; background: var(--sidebar-color); color: white; display: flex; flex-direction: column; transition: 0.3s; flex-shrink: 0; }
        .sidebar-title { padding: 30px 20px; text-align: center; font-size: 1.6rem; font-weight: bold; background: #243342; letter-spacing: 1px; }
        .nav-list { flex: 1; padding-top: 10px; }
        .nav-item { padding: 15px 25px; color: var(--text-gray); display: flex; align-items: center; cursor: pointer; transition: 0.2s; border-right: 4px solid transparent; text-decoration: none; }
        .nav-item:hover, .nav-item.active { background: #3e5871; color: white; border-right-color: var(--active-blue); }
        .nav-item i { margin-left: 15px; width: 25px; font-size: 1.2rem; }

        /* منطقة المحتوى الرئيسي */
        .main-content { flex: 1; display: flex; flex-direction: column; }
        .top-nav { background: white; height: 70px; display: flex; justify-content: space-between; align-items: center; padding: 0 30px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .shop-info { display: flex; align-items: center; gap: 15px; }
        #shopLogo { height: 45px; width: 45px; border-radius: 8px; object-fit: cover; background: #eee; }

        /* الأقسام المتغيرة */
        .page-content { display: none; padding: 25px; height: calc(100vh - 70px); overflow-y: auto; }
        .page-content.active { display: block; }

        /* تصميم كروت الإعدادات والتقارير */
        .settings-card { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); max-width: 900px; margin: 0 auto; }
        .input-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .form-control { display: flex; flex-direction: column; gap: 8px; margin-bottom: 15px; }
        .form-control label { font-weight: bold; color: var(--sidebar-color); }
        .form-control input, .form-control select { padding: 12px; border: 1px solid #ddd; border-radius: 8px; }
        .btn-save { grid-column: span 2; padding: 15px; background: #27ae60; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 1rem; margin-top: 10px; }

        /* واجهة البيع POS */
        .pos-grid { display: grid; grid-template-columns: 1fr 380px; gap: 20px; height: 100%; }
        .products-section { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .cart-section { background: white; border-radius: 12px; display: flex; flex-direction: column; box-shadow: 0 4px 15px rgba(0,0,0,0.08); }
        .cart-header { background: var(--sidebar-color); color: white; padding: 15px; border-radius: 12px 12px 0 0; text-align: center; }
        .search-box { width: 100%; padding: 15px; border-radius: 10px; border: 1px solid #eee; margin-bottom: 20px; font-size: 1rem; }
    </style>
</head>
<body>

    <aside class="sidebar">
        <div class="sidebar-title" id="sideBrand">SUPER_POS</div>
        <nav class="nav-list">
            <div class="nav-item active" onclick="openTab('pos')"><i class="fas fa-shopping-basket"></i>نقطة البيع</div>
            <div class="nav-item" onclick="openTab('products')"><i class="fas fa-boxes"></i>المنتجات</div>
            <div class="nav-item" onclick="openTab('reports')"><i class="fas fa-chart-line"></i>التقارير</div>
            <div class="nav-item" onclick="openTab('users')"><i class="fas fa-users-cog"></i>المستخدمين</div>
            <div class="nav-item" onclick="openTab('settings')"><i class="fas fa-cogs"></i>الإعدادات</div>
        </nav>
        <div class="nav-item" style="color: #e74c3c; border-top: 1px solid #3e5871;"><i class="fas fa-power-off"></i>خروج</div>
    </aside>

    <div class="main-content">
        <header class="top-nav">
            <div class="shop-info">
                <img id="shopLogoImg" src="" alt="Logo">
                <h3 id="shopNameDisplay" style="margin:0">اسم المحل</h3>
            </div>
            <div id="liveTime" style="color: #666; font-weight: 500;"></div>
        </header>

        <section id="pos-tab" class="page-content active">
            <div class="pos-grid">
                <div class="products-section">
                    <input type="text" class="search-box" placeholder="مسح الباركود أو البحث عن منتج...">
                    <div id="productGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 15px;">
                        </div>
                </div>
                <div class="cart-section">
                    <div class="cart-header">سلة المشتريات</div>
                    <div id="cartItems" style="flex:1; padding:15px; overflow-y:auto;"></div>
                    <div style="padding:20px; border-top: 2px dashed #eee;">
                        <div style="display:flex; justify-content:space-between; font-size:1.5rem; color:#e74c3c; font-weight:bold;">
                            <span>الصافي:</span>
                            <span><span id="totalAmount">0.00</span> دج</span>
                        </div>
                        <button class="btn-save" style="margin-top:15px;" onclick="window.print()">دفع وطباعة</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="settings-tab" class="page-content">
            <div class="settings-card">
                <h3><i class="fas fa-sliders-h"></i> إعدادات المتجر</h3>
                <hr><br>
                <div class="input-grid">
                    <div class="form-control"><label>اسم المحل</label><input type="text" id="set_name"></div>
                    <div class="form-control"><label>رابط الشعار</label><input type="text" id="set_logo"></div>
                    <div class="form-control"><label>رقم الهاتف</label><input type="text" id="set_phone"></div>
                    <div class="form-control"><label>العنوان</label><input type="text" id="set_address"></div>
                    <div class="form-control"><label>العملة</label><select id="set_curr"><option value="دج">دينار جزائري</option><option value="$">دولار</option></select></div>
                    <div class="form-control"><label>اللغة</label><select id="set_lang"><option value="ar">العربية</option><option value="fr">الفرنسية</option></select></div>
                    <button class="btn-save" onclick="updateConfig()">حفظ التعديلات</button>
                </div>
            </div>
        </section>

        <section id="reports-tab" class="page-content"><div class="settings-card"><h3>التقارير</h3><p>عرض مبيعات محلك بباتنة هنا...</p></div></section>
        <section id="users-tab" class="page-content"><div class="settings-card"><h3>المستخدمين</h3><p>إدارة صلاحيات البائعين...</p></div></section>
        <section id="products-tab" class="page-content"><div class="settings-card"><h3>إدارة السلع</h3><p>إضافة وتعديل المنتجات...</p></div></section>
    </div>

    <script>
        // نظام التبديل بين الأقسام بدقة
        function openTab(tabId) {
            document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(tabId + '-tab').classList.add('active');
            event.currentTarget.classList.add('active');
        }

        // حفظ وتحديث الإعدادات
        function updateConfig() {
            const data = {
                n: document.getElementById('set_name').value,
                l: document.getElementById('set_logo').value,
                p: document.getElementById('set_phone').value,
                a: document.getElementById('set_address').value,
                c: document.getElementById('set_curr').value
            };
            localStorage.setItem('config', JSON.stringify(data));
            loadConfig();
            alert("تم الحفظ بنجاح!");
        }

        function loadConfig() {
            const saved = JSON.parse(localStorage.getItem('config'));
            if(saved) {
                document.getElementById('shopNameDisplay').innerText = saved.n;
                document.getElementById('sideBrand').innerText = saved.n;
                document.getElementById('shopLogoImg').src = saved.l || 'https://via.placeholder.com/45';
                document.getElementById('set_name').value = saved.n;
                document.getElementById('set_logo').value = saved.l;
                document.getElementById('set_phone').value = saved.p;
                document.getElementById('set_address').value = saved.a;
            }
        }

        setInterval(() => { document.getElementById('liveTime').innerText = new Date().toLocaleString('ar-DZ'); }, 1000);
        window.onload = loadConfig;
    </script>
</body>
</html>
